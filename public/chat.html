<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChatterBox</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="chat-container">
      <div class="sidebar">
        <h2>Welcome, <span id="username"></span></h2>
      </div>

      <div class="main-chat">
        <!-- Welcome message moved to the top -->
        <div class="room-selection">
          <h1>Chat Room</h1>
          <div>
            <label for="room-select">Choose a room:</label>
            <select id="room-select">
              <option value="general">General</option>
              <option value="sports">Sports</option>
              <option value="tech">Tech</option>
            </select>
            <button id="join-room">Join Room</button>
          </div>
        </div>

        <!-- Chat Box Div to allow for its own design -->
        <div id="chat-box-container" class="chat-box-container">
          <div id="chat-box" class="chat-box">
            <!-- Messages will appear here -->
          </div>
        </div>

        <!-- Chat input form -->
        <form id="chat-form">
          <input
            type="text"
            id="message-input"
            placeholder="Type your message..."
            required
          />
          <button type="submit">Send</button>
        </form>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="chat.js"></script>
    <script>
      // Get username from URL query parameters
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get("username");

      if (username) {
        // Display username in the sidebar
        document.getElementById("username").textContent = username;
      } else {
        console.log("Username is not available.");
      }
    </script>
  </body>
</html>
